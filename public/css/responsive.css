/* responsive.css - أنماط الاستجابة لجميع الأجهزة */
/* =============================================== */

/* 1. الأجهزة الكبيرة (أجهزة الكمبيوتر المكتبية الكبيرة) */
@media (min-width: 1400px) {
    .container {
        max-width: 1320px;
    }
    
    .products-grid {
        grid-template-columns: repeat(5, 1fr);
    }
    
    .orders-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* 2. الأجهزة المتوسطة (أجهزة الكمبيوتر المكتبية، أجهزة اللابتوب) */
@media (max-width: 1200px) {
    .container {
        max-width: 1140px;
    }
    
    .products-grid {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .orders-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .wallet-quick-actions {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* 3. الأجهزة الصغيرة (الأجهزة اللوحية، الهواتف الكبيرة) */
@media (max-width: 992px) {
    .container {
        max-width: 960px;
    }
    
    /* التنقل */
    .app-navigation {
        flex-direction: column;
        height: auto;
        padding: var(--space-md);
    }
    
    .nav-menu {
        flex-direction: column;
        width: 100%;
    }
    
    .nav-item {
        width: 100%;
        text-align: right;
    }
    
    /* الشبكات */
    .products-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .orders-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .wallet-quick-actions {
        grid-template-columns: repeat(2, 1fr);
    }
    
    /* التخطيط */
    .product-detail {
        grid-template-columns: 1fr;
    }
    
    .order-detail-content {
        grid-template-columns: 1fr;
    }
    
    /* الجداول */
    .products-table,
    .orders-table {
        display: block;
        overflow-x: auto;
    }
    
    /* الشريط الجانبي */
    .app-sidebar {
        width: 300px;
    }
    
    .cart-sidebar {
        width: 350px;
    }
    
    /* النماذج */
    .form-row {
        grid-template-columns: 1fr;
    }
}

/* 4. الهواتف الذكية (الأفقية) */
@media (max-width: 768px) {
    .container {
        max-width: 720px;
        padding: 0 var(--space-md);
    }
    
    /* التنقل */
    .app-header {
        flex-direction: column;
        gap: var(--space-md);
        padding: var(--space-md);
    }
    
    .header-actions {
        flex-wrap: wrap;
        justify-content: center;
    }
    
    /* الشبكات */
    .products-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-md);
    }
    
    .orders-grid {
        grid-template-columns: 1fr;
    }
    
    .wallet-quick-actions {
        grid-template-columns: 1fr;
    }
    
    /* البطاقات */
    .product-card {
        max-width: 100%;
    }
    
    .order-card {
        max-width: 100%;
    }
    
    /* الرؤوس */
    .products-header,
    .orders-header,
    .wallet-header,
    .notifications-header {
        flex-direction: column;
        gap: var(--space-md);
        align-items: stretch;
        text-align: center;
    }
    
    .products-actions,
    .orders-actions,
    .wallet-actions,
    .notifications-actions {
        justify-content: center;
    }
    
    /* أشرطة التصفية */
    .products-controls,
    .orders-controls,
    .notifications-filter-bar {
        flex-direction: column;
        gap: var(--space-md);
    }
    
    .status-filter-btn,
    .filter-btn {
        width: 100%;
        text-align: center;
    }
    
    /* الخطوط */
    h1 { font-size: var(--text-2xl); }
    h2 { font-size: var(--text-xl); }
    h3 { font-size: var(--text-lg); }
    h4 { font-size: var(--text-base); }
    
    /* الأزرار */
    .btn-lg {
        padding: 10px 20px;
        font-size: var(--text-base);
    }
    
    .btn-group {
        flex-direction: column;
        width: 100%;
    }
    
    .btn-group .btn {
        width: 100%;
        margin-bottom: var(--space-sm);
    }
    
    /* النماذج */
    .product-form,
    .order-form,
    .wallet-form {
        padding: var(--space-lg);
    }
    
    .form-actions {
        flex-direction: column;
        gap: var(--space-md);
    }
    
    .form-actions .btn {
        width: 100%;
        justify-content: center;
    }
    
    /* الشريط الجانبي */
    .app-sidebar {
        width: 100%;
        right: -100%;
    }
    
    .app-sidebar.active {
        right: 0;
    }
    
    .cart-sidebar {
        width: 100%;
        left: -100%;
    }
    
    .cart-sidebar.active {
        left: 0;
    }
    
    /* المشغلات */
    .notification-item,
    .transaction-item {
        flex-direction: column;
        text-align: center;
        gap: var(--space-md);
    }
    
    .notification-icon,
    .transaction-icon {
        margin-left: 0;
        margin-bottom: var(--space-md);
    }
    
    .notification-actions,
    .transaction-status {
        margin-right: 0;
        margin-top: var(--space-md);
        justify-content: center;
        width: 100%;
    }
    
    /* الإحصائيات */
    .products-stats,
    .orders-stats,
    .notifications-stats,
    .wallet-statistics .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* 5. الهواتف الذكية (العمودية) */
@media (max-width: 576px) {
    .container {
        max-width: 100%;
        padding: 0 var(--space-sm);
    }
    
    /* الشبكات */
    .products-grid {
        grid-template-columns: 1fr;
    }
    
    .orders-grid {
        grid-template-columns: 1fr;
    }
    
    /* البطاقات */
    .product-card {
        margin: 0 auto;
    }
    
    .order-card {
        margin: 0 auto;
    }
    
    /* التخطيط */
    .products-container,
    .orders-container,
    .wallet-container,
    .notifications-container {
        padding: var(--space-md);
    }
    
    /* الرؤوس */
    .products-title,
    .orders-title,
    .wallet-title,
    .notifications-title {
        font-size: var(--text-xl);
    }
    
    /* الإحصائيات */
    .products-stats,
    .orders-stats,
    .notifications-stats,
    .wallet-statistics .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .stat-item,
    .order-stat,
    .stat-card-notification,
    .stat-card {
        min-width: 100%;
    }
    
    /* الجداول */
    table {
        font-size: var(--text-sm);
    }
    
    th, td {
        padding: 8px 4px;
    }
    
    /* النماذج */
    .product-form,
    .order-form,
    .wallet-form {
        padding: var(--space-md);
    }
    
    .form-control,
    .form-select {
        padding: 10px 12px;
        font-size: var(--text-base);
    }
    
    /* أشرطة النطاق */
    .date-range-filter {
        grid-template-columns: 1fr;
    }
    
    /* الإشعارات المنبثقة */
    .notifications-dropdown,
    .realtime-notification {
        width: calc(100% - 20px);
        left: 10px;
        right: 10px;
    }
    
    .notifications-dropdown {
        top: 60px;
    }
    
    /* الترتيبات */
    .product-detail-actions,
    .order-actions-detail,
    .wallet-form-actions {
        flex-direction: column;
    }
    
    /* رسائل الخطأ */
    .error-message {
        font-size: var(--text-sm);
        padding: var(--space-md);
    }
}

/* 6. الأجهزة صغيرة جداً */
@media (max-width: 375px) {
    :root {
        --space-xs: 3px;
        --space-sm: 6px;
        --space-md: 12px;
        --space-lg: 18px;
        --space-xl: 24px;
        --space-xxl: 36px;
    }
    
    .container {
        padding: 0 var(--space-xs);
    }
    
    /* الخطوط */
    body {
        font-size: 14px;
    }
    
    /* الأزرار */
    .btn {
        padding: 8px 16px;
        font-size: var(--text-sm);
    }
    
    /* الأيقونات */
    .fa-2x { font-size: 1.5em; }
    .fa-3x { font-size: 2em; }
    
    /* العناوين */
    .modal-title {
        font-size: var(--text-lg);
    }
    
    /* النماذج */
    .form-label {
        font-size: var(--text-sm);
    }
}

/* 7. التوجهات */
@media (orientation: landscape) and (max-height: 500px) {
    .app-header {
        padding: var(--space-sm) var(--space-md);
    }
    
    .app-navigation {
        padding: var(--space-xs) var(--space-md);
    }
    
    .products-grid,
    .orders-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: var(--space-sm);
    }
    
    .product-card,
    .order-card {
        min-height: auto;
    }
    
    .product-image {
        height: 120px;
    }
}

/* 8. الطباعة */
@media print {
    .app-header,
    .app-navigation,
    .app-footer,
    .notifications-dropdown,
    .realtime-notification,
    .btn,
    .form-actions,
    .notification-actions,
    .order-actions {
        display: none !important;
    }
    
    body {
        background: white !important;
        color: black !important;
        font-size: 12pt !important;
    }
    
    .container {
        max-width: 100% !important;
        width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    
    .products-container,
    .orders-container,
    .wallet-container,
    .notifications-container {
        padding: 0 !important;
        min-height: auto !important;
    }
    
    a {
        color: black !important;
        text-decoration: none !important;
    }
    
    .page-break {
        page-break-before: always;
    }
}

/* 9. الميزات الخاصة */
/* الأجهزة التي تدعم hover */
@media (hover: hover) and (pointer: fine) {
    .product-card:hover .product-quick-actions {
        transform: translateY(0);
    }
    
    .tooltip:hover::after {
        opacity: 1;
        visibility: visible;
    }
}

/* الأجهزة التي لا تدعم hover (شاشات اللمس) */
@media (hover: none) and (pointer: coarse) {
    .product-quick-actions {
        transform: translateY(0);
        opacity: 1;
    }
    
    .btn:active {
        transform: scale(0.98);
    }
    
    .dropdown-toggle:focus + .dropdown-menu,
    .dropdown-menu:focus-within {
        display: block;
    }
}

/* الأجهزة المظلمة */
@media (prefers-color-scheme: dark) {
    :root {
        --bg-primary: #1A1A1A;
        --bg-secondary: #2D2D2D;
        --bg-light: #3D3D3D;
        --text-primary: #FFFFFF;
        --text-secondary: #CCCCCC;
        --text-light: #999999;
        --border-color: #404040;
        --border-light: #505050;
        --border-dark: #303030;
    }
}

/* 10. مساعدات الاستجابة */
/* الأجهزة المتحركة */
.touch-device .dropdown:hover .dropdown-menu {
    display: none;
}

.touch-device .dropdown:focus-within .dropdown-menu {
    display: block;
}

/* إخفاء العناصر على أجهزة معينة */
.mobile-only {
    display: none;
}

.desktop-only {
    display: block;
}

@media (max-width: 768px) {
    .mobile-only {
        display: block;
    }
    
    .desktop-only {
        display: none;
    }
}

/* تحسين الأداء على الأجهزة المنخفضة الطاقة */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* دعم عالي التباين */
@media (prefers-contrast: high) {
    :root {
        --primary-color: #004400;
        --secondary-color: #884400;
        --border-color: #000000;
    }
    
    .btn {
        border: 2px solid currentColor;
    }
}

/* دعم التكبير */
@media (prefers-reduced-data: reduce) {
    .background-image {
        display: none;
    }
    
    .product-image img {
        filter: blur(0);
    }
}

/* 11. فئات مساعدة للاستجابة */
.img-responsive {
    max-width: 100%;
    height: auto;
}

.embed-responsive {
    position: relative;
    display: block;
    width: 100%;
    padding: 0;
    overflow: hidden;
}

.embed-responsive::before {
    display: block;
    content: "";
    padding-top: 56.25%; /* نسبة 16:9 */
}

.embed-responsive-item {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 0;
}

.text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.text-break {
    word-break: break-word;
    overflow-wrap: break-word;
}

.d-none {
    display: none !important;
}

.d-block {
    display: block !important;
}

.d-flex {
    display: flex !important;
}

.d-grid {
    display: grid !important;
}

@media (max-width: 768px) {
    .d-md-none {
        display: none !important;
    }
    
    .d-md-block {
        display: block !important;
    }
    
    .d-md-flex {
        display: flex !important;
    }
    
    .d-md-grid {
        display: grid !important;
    }
}

.w-100 {
    width: 100% !important;
}

.h-100 {
    height: 100% !important;
}

.mw-100 {
    max-width: 100% !important;
}

.mh-100 {
    max-height: 100% !important;
}

/* 12. تحسينات الوصول للشاشات الصغيرة */
@media (max-width: 768px) {
    /* زيادة حجم مناطق النقر */
    .btn,
    .nav-link,
    .dropdown-toggle,
    .form-control,
    .form-select {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* زيادة تباعد العناصر */
    .form-group {
        margin-bottom: var(--space-lg);
    }
    
    /* تحسين قابلية القراءة */
    body {
        line-height: 1.6;
    }
    
    /* تباعد أفضل للقوائم */
    .list-group-item {
        padding: var(--space-md) var(--space-lg);
    }
    
    /* تحسين التمرير */
    .modal-content {
        max-height: 90vh;
        overflow-y: auto;
    }
}

/* 13. تحسينات للأجهزة القديمة */
@supports not (display: grid) {
    .products-grid,
    .orders-grid,
    .wallet-quick-actions {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-md);
    }
    
    .product-card,
    .order-card,
    .quick-action-card {
        flex: 1 1 300px;
        max-width: 100%;
    }
}
